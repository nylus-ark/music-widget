window.addEventListener("DOMContentLoaded",(function(){}));let audioTracks=[{cover:"img/covers/cover-kaleo.jpg",title:"Way down we go",artist:"Kaleo",track:"audio/kaleo-way_down_we_go.mp3",info:"90,012,431 Plays"},{cover:"img/covers/cover-lonely-island.jpg",title:"Jack Sparrow",artist:"The Lonely Island (feat. Michael Bolton)",track:"audio/the_lonely_island_feat_michael_bolton-jack_sparrow.mp3",info:"1,200,010 Plays"},{cover:"img/covers/cover-twenty-one-pilots.jpg",title:"The judge",artist:"Twenty One Pilot",track:"audio/twenty_one_pilots-the_judge.mp3",info:"10,444,556 Plays"},{cover:"img/covers/cover-linkin-park.jpg",title:"Good Goodbye",artist:"Linkin Park (feat. Pusha T and Stormzy)",track:"audio/linkin_park-good_goodbye.mp3",info:"5,777,600 Plays"}];const currentSongBlock=document.querySelector(".song.song--current"),trackCover=currentSongBlock?.querySelector(".song__cover-img"),trackTitle=currentSongBlock?.querySelector(".song__title"),trackArtist=currentSongBlock?.querySelector(".song__artist"),trackInfo=currentSongBlock?.querySelector(".song__info"),prevSongBlock=document.querySelector(".song--prev"),prevTrackCover=prevSongBlock?.querySelector(".song__cover-img"),nextSongBlock=document.querySelector(".song--next"),nextTrackCover=nextSongBlock?.querySelector(".song__cover-img"),currentTrack=document.createElement("audio"),playPauseBtn=document.querySelector(".js-playBtn"),prevBtn=document.querySelector(".js-prevBtn"),nextBtn=document.querySelector(".js-nextBtn"),randomBtn=document.querySelector(".js-randomeBtn"),repeatBtn=document.querySelector(".js-repeatBtn"),randomIcon=randomBtn?.querySelector(".options__icon"),pauseIcon=playPauseBtn?.querySelector(".options__icon-pause"),playIcon=playPauseBtn?.querySelector(".options__icon-play"),queueBarArea=document.querySelector(".queue-bar"),queueBar=queueBarArea?.querySelector(".js-queueBar");let trackIndex=0,isPlaying=!1,isRandom=!1;function loadCurrentTrack(e){currentTrack.src=audioTracks[e].track,currentTrack.load(),trackCover.src=audioTracks[e].cover,trackTitle.textContent=audioTracks[e].title,trackArtist.textContent=audioTracks[e].artist,trackInfo.textContent=audioTracks[e].info,currentTrack.addEventListener("ended",playNextTrack)}function loadPrevTrackImg(e){e>0?e-=1:e=audioTracks.length-1,prevTrackCover.src=audioTracks[e].cover}function loadNextTrackImg(e){e<audioTracks.length-1?e+=1:e=0,nextTrackCover.src=audioTracks[e].cover}function togglePlayPause(){isPlaying?pauseTrack():playTrack()}function playTrack(){pauseIcon.classList.remove("u-hidden"),playIcon.classList.add("u-hidden"),currentTrack.play(),isPlaying=!0}function pauseTrack(){pauseIcon.classList.add("u-hidden"),playIcon.classList.remove("u-hidden"),currentTrack.pause(),isPlaying=!1}function playNextTrack(){if(trackIndex<audioTracks.length-1&&!1===isRandom)trackIndex+=1;else if(trackIndex<audioTracks.length-1&&!0===isRandom){let e=Number.parseInt(Math.random()*audioTracks.length);trackIndex=e}else trackIndex=0;loadCurrentTrack(trackIndex),loadPrevTrackImg(trackIndex),loadNextTrackImg(trackIndex),playTrack()}function playPrevTrack(){trackIndex>0?trackIndex-=1:trackIndex=audioTracks.length-1,loadCurrentTrack(trackIndex),loadPrevTrackImg(trackIndex),loadNextTrackImg(trackIndex),playTrack()}function toggleRandom(){isRandom?pauseRandom():playRandom()}function playRandom(){randomIcon.classList.add("options__icon--active"),isRandom=!0}function pauseRandom(){randomIcon.classList.remove("options__icon--active"),isRandom=!1}function repeatCurrentTrack(){loadCurrentTrack(trackIndex),playTrack()}function updateProgressBar(e){const r=e.target.currentTime/e.target.duration*100;queueBar.style.width=`${r}%`}function setCurrentTrackTime(e){const r=queueBarArea.clientWidth,a=e.offsetX,t=currentTrack.duration;currentTrack.currentTime=a/r*t,playTrack()}window.addEventListener("load",(()=>{loadCurrentTrack(trackIndex),loadPrevTrackImg(trackIndex),loadNextTrackImg(trackIndex)})),playPauseBtn?.addEventListener("click",togglePlayPause),prevBtn?.addEventListener("click",playPrevTrack),nextBtn?.addEventListener("click",playNextTrack),randomBtn?.addEventListener("click",toggleRandom),repeatBtn?.addEventListener("click",repeatCurrentTrack),currentTrack?.addEventListener("timeupdate",updateProgressBar),queueBarArea?.addEventListener("click",setCurrentTrackTime);